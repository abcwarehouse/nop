<span id='{GUID}'></span>
    <script>
        $(document).ready(function(){
            var removeFromCartLink = $('#{guid}').closest('.buttons').find('.cart-removeitem-link');
            var originalClickFunction = removeFromCartLink.attr('onclick');
            removeFromCartLink.removeAttr('onclick');

			function fireOriginalClick(){
				(new Function(originalClickFunction)())
			}
			function googleTimeoutFunction(callback, opt_timeout) {
				var called = false;
				function fn() {
				  if (!called) {
					called = true;
					callback();
				  }
				}
				setTimeout(fn, opt_timeout || 1000);
				return fn;
			}
			function dcSentToGoogleEventTrigger(callback){
				$(document).trigger('dcSentToGoogleEvent');
				callback();
			}

            removeFromCartLink.click(function(){
                ga('ec:addProduct', {
                    'id': '{PRODUCTSKU}',
                    'name': '{PRODUCTNAME}',
                    'category': '{PRODUCTCATEGORY',
                    'brand': '{MANUFACTURER}',
                    'quantity': {QUANTITY}
                });
                ga('ec:setAction', 'remove');

                // Send click with an event, then send user to product page.
                ga('send', 'event', 'UX', 'click', 'remove from basket', {
                     hitCallback: googleTimeoutFunction(function() {
						dcSentToGoogleEventTrigger(function(){fireOriginalClick();});
					  })
                });
            });
        });
    </script>