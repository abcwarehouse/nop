!function(r,i){var o=".quick-view-button";function n(){var t=r(".quickViewWindow").data("kendoWindow");null!=t&&""!==t.content()&&t.close()}function e(){var t=r(".quickViewWindow #product-details-form").serialize();return t=t.replace(new RegExp("quickView_product_attribute","g"),"product_attribute")}function c(c){var t=r(".quickViewData").attr("data-retrieveQuickViewUrl");if(null!=t){var a={productId:c};r.ajax({beforeSend:function(){var t,a;t=r(".quickViewWindow").data("kendoWindow"),a=r("<div class='k-loading-mask'><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("700px").height("360px"),t.content(a),t.center(),t.open()},cache:!1,type:"POST",data:a,url:t}).done(function(t){var a;a=t,r(".quickViewWindow").data("kendoWindow").content(a);var e=r(".quickViewData").attr("data-accordionpanelsheightstyle");r("#accordion").accordion({collapsible:!0,icons:{header:"ui-icon-circle-arrow-e",activeHeader:"ui-icon-circle-arrow-s"},heightStyle:e});var i,o=r(".quickView").offset(),n=r(".quickView").height();r(window).height()<n?r(".quickView").css("top",r(document).scrollTop()+10):r(".quickView").css("top",o.top-n/4),0<(i=r(".quickViewAdjustPictureOnProductAttributeValueChange")).length&&r(document).on("quickView.product_attributes_changed",function(t){if(t.changedData&&t.changedData.pictureDefaultSizeUrl){var a=t.changedData.pictureDefaultSizeUrl;"true"===i.attr("data-isCloudZoomAvailable")?(a=a.substring(1,a.length-9),r('.quickViewWindow .cloudzoom-gallery[href*="'+a+'"]').click()):r(".quickViewWindow .gallery .picture img").attr("src",a)}}),function(){var t=r(".quickViewRentalInfo");if(0<t.length){var a=t.attr("data-datePickerFormat"),e="#"+t.attr("data-startDateControlId"),i="#"+t.attr("data-endDateControlId");r(e).datepicker({dateFormat:a}),r(i).datepicker({dateFormat:a})}}(),r.event.trigger({type:"nopQuickViewDataShownEvent",productId:c})}).fail(function(){alert("Loading the page failed."),n()})}}function d(a,t){var e=r(t);r.ajax({cache:!1,type:"GET",contentType:"application/json; charset=utf-8",url:r(".quickViewData").attr("data-getquickviewbuttonroute")}).done(function(t){r(e).each(function(){r(this).find(o).length<=0&&r(this).prepend(t)}),r(o).off("click.quickview").on("click.quickview",function(){var t=r(this).parents(a).first().attr("data-productid");void 0!==t&&c(t)}),r.event.trigger({type:"nopQuickViewButtonsAddedCompleteEvent"})})}function u(){var t,a,e=r("body");if(0<e.length){e.prepend('<div class="quickViewWindow"></div>');var i=null!=(a=r(".quickViewData").attr("data-isQuickViewPopupDraggable"))&&"True"===a,o=null!=(t=r(".quickViewData").attr("data-enableQuickViewPopupOverlay"))&&"True"===t,n=r(".quickViewWindow").kendoWindow({minHeight:"330px",minWidth:"660px",draggable:i,resizable:!1,modal:o,actions:["Close"],animation:!1,visible:!1,close:function(){r(".quickViewWindow").html(r("").html())}}).data("kendoWindow");n.wrapper.addClass("quickView"),r(document).on("click",".k-overlay",function(){n.close()})}}function l(t){var a=r(".quickViewData").attr("data-productselectorchild");return void 0!==a&&a!==t&&0<r(t+" "+a).length?t+" "+a:t}r(document).on("nopQuickViewDataShownEvent",function(){var t=".quickViewWindow #add-to-cart-button-"+r("#add-to-cart-details").attr("data-productid"),a=".quickViewWindow .add-to-wishlist-button";r(t).hasClass("nopAjaxCartProductVariantAddToCartButton")||(r(t).prop("onclick",null).off("click"),r(t).on("click",function(){var t=r("#add-to-cart-details").attr("data-url");r.ajax({cache:!1,url:t,data:e(),type:"post",success:AjaxCart.success_process,complete:AjaxCart.resetLoadWaiting,error:AjaxCart.ajaxFailure})}),r(a).prop("onclick",null).off("click"),r(a).on("click",function(){var t=r("#add-to-wishlist-details").attr("data-url");r.ajax({cache:!1,url:t,data:e(),type:"post",success:AjaxCart.success_process,complete:AjaxCart.resetLoadWaiting,error:AjaxCart.ajaxFailure})}))}),r(document).ready(function(){if(!(i.isMobile()||!i.isMobile()&&i.getViewPort().width<=768)){var t,a=null!=(t=r(".quickViewData").attr("data-productselector"))?t:"";if(""!==a){var e=l(a);d(a,e),r(document).on("nopAjaxCartProductAddedToCartEvent nopAjaxCartProductAddedToWishlistEvent",function(){n()}),r(document).on("nopAjaxFiltersFiltrationCompleteEvent newProductsAddedToPageEvent",function(){e=l(a),d(a,e)}),u()}}})}(jQuery,sevenSpikesCore);