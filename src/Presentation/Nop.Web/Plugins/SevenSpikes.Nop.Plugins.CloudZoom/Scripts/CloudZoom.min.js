!function(s,e){var a,i,n=s(".cloudZoomAdjustPictureOnProductAttributeValueChange"),c=s(".cloudZoomPictureThumbnailsInCarouselData"),l=!1;function r(){var e=i.attr("data-zoomWindowElementId");s("#cloudZoomImage").bind("cloudzoom_start_zoom.sevenSpikesCloudZoom",function(){if(e){var o=i.attr("data-zoom-window-width"),t=i.attr("data-zoom-window-height");s("#"+e).width(o),s("#"+e).height(t)}s(".gallery .ribbon-wrapper .ribbon-position").hide()}),s("#cloudZoomImage").bind("cloudzoom_end_zoom.sevenSpikesCloudZoom",function(){e&&(s("#"+e).css("width",""),s("#"+e).css("height","")),s(".gallery .ribbon-wrapper .ribbon-position").show()}),s("#cloudZoomImage").bind("cloudzoom_ready.sevenSpikesCloudZoom",function(){var o,t=s("#cloudZoomImage").data("CloudZoom");(o=t)&&0<o.options.autoInside&&(s(window).width()<o.options.autoInside&&(o.options.captionPosition="bottom"),s(window).resize(function(){s(window).width()<=o.options.autoInside?o.options.captionPosition="bottom":o.options.captionPosition="top"}))})}e.init=function(){if(l){e.destroy();var o=s("#sevenspikes-cloud-zoom a"),t=o.attr("data-full-image-url");o.attr("href",t)}n=s(".cloudZoomAdjustPictureOnProductAttributeValueChange"),c=s(".cloudZoomPictureThumbnailsInCarouselData"),CloudZoom.quickStart(),function(){if("true"===n.attr("data-isIntegratedByWidget")){var o,t,e=(i=s(a="#sevenspikes-cloud-zoom")).attr("data-defaultImageContainerSelector");if(null==e||""===e)return;s(e).each(function(){s(this).find(a).length<=0?o=s(this):t=s(this)}),null!=o&&null!=t&&(o.replaceWith(t),t.show()),function(o){var t=o.attr("data-selectorOfTheParentElementOfTheCloudZoomWindow");if(null!=t&&""!==t){var e=s(t);if(null!=e){var a=o.attr("data-zoomWindowElementId");if(null==a||""===a)return;var i="<div id="+a+' style="position: absolute;"></div>';s(e).prepend(i)}}}(i),s.event.trigger({type:"nopCloudZoomLoadCompletedEvent"})}}(),r(),function(){if(0<c.length){var o=parseInt(c.attr("data-numVisible"))||5,t=parseInt(c.attr("data-numScrollable"))||o||5,e="true"===c.attr("data-enable-slider-arrows"),a="true"===c.attr("data-enable-slider-dots"),i="true"===c.attr("data-vertical"),n="true"===c.attr("data-rtl"),l=c.attr("data-responsive-breakpoints-for-thumbnails"),r={},u=!i&&n;try{r=JSON.parse(l);for(var d=0;d<r.length;d++)r[d].settings.vertical||(r[d].settings.rtl=n)}catch(o){console.log("Invalid carousel breakpoints setting value!")}s("#picture-thumbs-carousel").slick({rtl:u,infinite:!0,vertical:i,slidesToShow:o,slidesToScroll:t,arrows:e,dots:a,easing:"swing",draggable:!1,responsive:r}),o<s("#picture-thumbs-carousel").slick("getSlick").slideCount&&e&&s(".sevenspikes-cloudzoom-gallery .picture-thumbs").addClass("has-navigation")}}(),s(document).on("product_attributes_changed.cloudZoom",function(o){if(o.changedData&&o.changedData.pictureFullSizeUrl){var t=o.changedData.pictureFullSizeUrl;s('.cloudzoom-gallery[data-full-image-url="'+t+'"]').click(),s.event.trigger({type:"nopMainProductImageChanged",pictureDefaultSizeUrl:t,pictureFullSizeUrl:t})}}),0<s(".cloudZoomEnableClickToZoom").length&&s("#cloudZoomImage").bind("click.sevenSpikesCloudZoom",function(){s(this).data("CloudZoom").closeZoom();var o=new Array,t=function(o,t){this.src=o,this.title=t};s(".picture-thumbs a.cloudzoom-gallery").length<1&&o.push(new t(s(".picture a.picture-link").attr("data-full-image-url"),s(".picture a.picture-link img").attr("title"))),s(".picture-thumbs a.cloudzoom-gallery").each(function(){s(this).parent().hasClass("slick-cloned")||o.push(new t(s(this).attr("data-full-image-url"),s(this).attr("title")))});for(var e=0,a=0;a<o.length;a++)if(o[a].src){var i=o[a].src.slice(0,-5);if(-1!==s(".picture a.picture-link img").attr("src").indexOf(i)){e=a;break}}return s.magnificPopup.open({items:o,type:"image",removalDelay:300,gallery:{enabled:!0,tPrev:c.attr("data-magnificpopup-prev"),tNext:c.attr("data-magnificpopup-next"),tCounter:c.attr("data-magnificpopup-counter")},tClose:c.attr("data-magnificpopup-close"),tLoading:c.attr("data-magnificpopup-loading")},e),!1}),l=!0},e.destroy=function(){var o=s("#cloudZoomImage").data("CloudZoom");o&&o.destroy(),s("#cloudZoomImage").off("cloudzoom_start_zoom.sevenSpikesCloudZoom"),s("#cloudZoomImage").off("cloudzoom_end_zoom.sevenSpikesCloudZoom"),s("#cloudZoomImage").off("cloudzoom_ready.sevenSpikesCloudZoom"),s("#cloudZoomImage").off("click.sevenSpikesCloudZoom"),s("#picture-thumbs-carousel").hasClass("slick-initialized")&&s("#picture-thumbs-carousel").slick("unslick"),s(document).off("product_attributes_changed.cloudZoom"),l=!1},s(document).ready(function(){e.init()})}(jQuery,window.sevenSpikesCloudZoom=window.sevenSpikesCloudZoom||{});